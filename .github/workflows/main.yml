name: GitHubä¸ªäººèµ„æ–™ç»Ÿè®¡ç”Ÿæˆ

on:
  schedule:
    # è®¾ç½®ä¸ºæ¯å¤©ä¸­åˆ12ç‚¹(UTC)è¿è¡Œï¼Œå³åŒ—äº¬æ—¶é—´æ™šä¸Š8ç‚¹
    - cron: "0 12 * * *"
  # å…è®¸æ‰‹åŠ¨è§¦å‘å·¥ä½œæµ
  workflow_dispatch:

jobs:
  github-metrics:
    name: ç”ŸæˆGitHubç»Ÿè®¡æ•°æ®
    runs-on: ubuntu-latest
    steps:
      - name: ç”ŸæˆGitHubä¸ªäººèµ„æ–™ç»Ÿè®¡ä¿¡æ¯
        uses: lowlighter/metrics@latest
        with:
          # è®¤è¯ä¸è®¾ç½®
          token: ${{ secrets.GH_TOKEN }}
          committer_token: ${{ secrets.GH_TOKEN }}
          user: Muxucao0812
          config_timezone: Asia/Shanghai
          
          # åŸºç¡€æ¨¡å—
          base: header, activity, community, repositories, metadata
          
          # ç¼–ç¨‹è¯­è¨€ç»Ÿè®¡
          plugin_languages: yes
          
          # è´¡çŒ®æ—¥å†
          plugin_isocalendar: yes
          
          # ç¼–ç ä¹ æƒ¯
          plugin_habits: yes
          plugin_habits_charts: yes
          
          # WakaTimeç»Ÿè®¡
          plugin_wakatime: yes
          plugin_wakatime_token: ${{ secrets.WAKATIME_API_KEY }}
          
          # è¾“å‡ºæ–‡ä»¶è®¾ç½®
          output_action: commit
          committer_branch: main
          committer_message: "ğŸ“Š æ›´æ–°ä¸ªäººGitHubç»Ÿè®¡ä¿¡æ¯"